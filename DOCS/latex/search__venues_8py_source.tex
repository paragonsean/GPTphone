\doxysection{search\+\_\+venues.\+py}
\hypertarget{search__venues_8py_source}{}\label{search__venues_8py_source}\index{/Users/seanbaker/Downloads/GPTPhone (2)/functions/search\_venues.py@{/Users/seanbaker/Downloads/GPTPhone (2)/functions/search\_venues.py}}
\mbox{\hyperlink{search__venues_8py}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00001}\mbox{\hyperlink{namespacesearch__venues}{00001}}\ \textcolor{keyword}{import}\ requests}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00002}00002\ \textcolor{keyword}{import}\ os}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00003}00003\ }
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00004}\mbox{\hyperlink{namespacesearch__venues_afc5763dd837ea54eebd90f7cf1956740}{00004}}\ api\_key\ =\ os.getenv(\textcolor{stringliteral}{'TICKET\_MASTER\_API\_KEY'})\ \ \textcolor{comment}{\#\ Retrieve\ API\ key\ from\ environment\ variable}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00005}00005\ }
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00006}00006\ \textcolor{stringliteral}{'''}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00007}00007\ \textcolor{stringliteral}{Author:\ Sean\ Baker}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00008}00008\ \textcolor{stringliteral}{Date:\ 2024-\/07-\/21}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00009}00009\ \textcolor{stringliteral}{Description:\ API\ to\ search\ for\ venues\ }}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00010}00010\ \textcolor{stringliteral}{'''}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00011}\mbox{\hyperlink{namespacesearch__venues_af1a9c69ccbccac02f2ac6c7804870840}{00011}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesearch__venues_af1a9c69ccbccac02f2ac6c7804870840}{search\_events}}(api\_key,\ params):}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00012}00012\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00013}00013\ \textcolor{stringliteral}{\ \ \ \ Searches\ for\ events\ using\ the\ Ticketmaster\ Discovery\ API.}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00014}00014\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00015}00015\ \textcolor{stringliteral}{\ \ \ \ :param\ api\_key:\ Your\ API\ key\ for\ accessing\ the\ Ticketmaster\ Discovery\ API.}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00016}00016\ \textcolor{stringliteral}{\ \ \ \ :param\ params:\ A\ dictionary\ of\ parameters\ to\ filter\ the\ search.}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00017}00017\ \textcolor{stringliteral}{\ \ \ \ :return:\ A\ list\ of\ events\ or\ an\ error\ message.}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00018}00018\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00019}00019\ \ \ \ \ url\ =\ \textcolor{stringliteral}{"{}https://app.ticketmaster.com/discovery/v2/events.json"{}}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00020}00020\ \ \ \ \ params[\textcolor{stringliteral}{'apikey'}]\ =\ api\_key}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00022}00022\ \ \ \ \ \textcolor{keywordflow}{try}:}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00023}00023\ \ \ \ \ \ \ \ \ response\ =\ requests.get(url,\ params=params)}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00024}00024\ \ \ \ \ \ \ \ \ response.raise\_for\_status()\ \ \textcolor{comment}{\#\ Raise\ an\ exception\ for\ HTTP\ errors}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00025}00025\ }
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00026}00026\ \ \ \ \ \ \ \ \ events\_data\ =\ response.json()}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00028}00028\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{'\_embedded'}\ \textcolor{keywordflow}{in}\ events\_data\ \textcolor{keywordflow}{and}\ \textcolor{stringliteral}{'events'}\ \textcolor{keywordflow}{in}\ events\_data[\textcolor{stringliteral}{'\_embedded'}]:}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00029}00029\ \ \ \ \ \ \ \ \ \ \ \ \ events\ =\ events\_data[\textcolor{stringliteral}{'\_embedded'}][\textcolor{stringliteral}{'events'}]}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00030}00030\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ events}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00031}00031\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00032}00032\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{stringliteral}{"{}No\ events\ found\ for\ the\ given\ parameters."{}}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00033}00033\ \ \ \ \ \textcolor{keywordflow}{except}\ requests.exceptions.HTTPError\ \textcolor{keyword}{as}\ http\_err:}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00034}00034\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ f\textcolor{stringliteral}{"{}HTTP\ error\ occurred:\ \{http\_err\}"{}}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00035}00035\ \ \ \ \ \textcolor{keywordflow}{except}\ Exception\ \textcolor{keyword}{as}\ err:}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00036}00036\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ f\textcolor{stringliteral}{"{}Other\ error\ occurred:\ \{err\}"{}}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00038}00038\ }
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00039}\mbox{\hyperlink{namespacesearch__venues_acea6a74947770340a20f929655243147}{00039}}\ \textcolor{keyword}{def\ }\mbox{\hyperlink{namespacesearch__venues}{search\_venues}}(api\_key,\ params):}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00040}00040\ \ \ \ \ api\_key\ =\ os.getenv(\textcolor{stringliteral}{'TICKET\_MASTER\_API\_KEY'})\ \ \textcolor{comment}{\#\ Retrieve\ API\ key\ from\ environment\ variable}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00041}00041\ }
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00042}00042\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ api\_key:}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00043}00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Please\ set\ the\ TICKET\_MASTER\_API\_KEY\ environment\ variable."{}})}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00045}00045\ \ \ \ \ search\_params\ =\ \{}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00046}00046\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'keyword'}:\ \textcolor{stringliteral}{'music'},}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00047}00047\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'city'}:\ \textcolor{stringliteral}{'Los\ Angeles'},}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00048}00048\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'stateCode'}:\ \textcolor{stringliteral}{'CA'},}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00049}00049\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'classificationName'}:\ \textcolor{stringliteral}{'Music'},}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00050}00050\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'size'}:\ \textcolor{stringliteral}{'5'}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00051}00051\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00052}00052\ \ \ \ \ events\ =\ \mbox{\hyperlink{namespacesearch__venues_af1a9c69ccbccac02f2ac6c7804870840}{search\_events}}(api\_key,\ search\_params)}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00053}00053\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(events,\ list):}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00054}00054\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ event\ \textcolor{keywordflow}{in}\ events:}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00055}00055\ \ \ \ \ \ \ \ \ \ \ \ \ print(event[\textcolor{stringliteral}{'name'}])}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00056}00056\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{\Hypertarget{search__venues_8py_source_l00057}00057\ \ \ \ \ \ \ \ \ print(events)}

\end{DoxyCode}
