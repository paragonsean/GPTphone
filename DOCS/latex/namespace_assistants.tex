\doxysection{Assistants Namespace Reference}
\hypertarget{namespace_assistants}{}\label{namespace_assistants}\index{Assistants@{Assistants}}
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{class_assistants_1_1_event_handler}{Event\+Handler}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_assistants_af3929b2269205c0657fae2ec2c4693f8}{str\+\_\+to\+\_\+bool}} (str\+\_\+input)
\item 
\mbox{\hyperlink{namespace_assistants_a14644dbd23e89d13ea20e9c038abd252}{create\+\_\+thread}} (content, file)
\item 
\mbox{\hyperlink{namespace_assistants_aeb91d12a2e84646c58d6dc98117d592d}{create\+\_\+message}} (thread, content, file)
\item 
\mbox{\hyperlink{namespace_assistants_aeea45b7404805872ac9432e45c244420}{run\+\_\+stream}} (user\+\_\+input, file, selected\+\_\+assistant\+\_\+id)
\item 
\mbox{\hyperlink{namespace_assistants_a51af30a60f9f02777c6396b8247e356f}{main}} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespace_assistants_a0b14e488ae28d98d262453f3e9cd6e4d}{logger}} = get\+\_\+logger(\+\_\+\+\_\+name\+\_\+\+\_\+)
\item 
\mbox{\hyperlink{namespace_assistants_a3323bc93b955e24fd2c8b48980fe3812}{openai\+\_\+api\+\_\+key}} = os.\+environ.\+get("{}OPENAI\+\_\+\+API\+\_\+\+KEY"{})
\item 
\mbox{\hyperlink{namespace_assistants_a184c58bfc20ecce9fbc12d3941ed6e74}{azure\+\_\+openai\+\_\+endpoint}} = os.\+environ.\+get("{}AZURE\+\_\+\+OPENAI\+\_\+\+ENDPOINT"{})
\item 
\mbox{\hyperlink{namespace_assistants_aec90323357f487c5adbee6ab77e17ef7}{azure\+\_\+openai\+\_\+key}} = os.\+environ.\+get("{}AZURE\+\_\+\+OPENAI\+\_\+\+KEY"{})
\item 
\mbox{\hyperlink{namespace_assistants_ad5bc32b75da65fe60067f501a4bb6665}{client}} = None
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\Hypertarget{namespace_assistants_aeb91d12a2e84646c58d6dc98117d592d}\index{Assistants@{Assistants}!create\_message@{create\_message}}
\index{create\_message@{create\_message}!Assistants@{Assistants}}
\doxysubsubsection{\texorpdfstring{create\_message()}{create\_message()}}
{\footnotesize\ttfamily \label{namespace_assistants_aeb91d12a2e84646c58d6dc98117d592d} 
create\+\_\+message (\begin{DoxyParamCaption}\item[{}]{thread}{, }\item[{}]{content}{, }\item[{}]{file}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}:param thread: A Thread object representing the thread where the message will be created.
:param content: A string representing the content of the message.
:param file: An optional File object representing a file attachment for the message.
:return: None

This method creates a message in a given thread using the provided content and file attachment, if any. If a file attachment is provided, it is added to the message as an attachment with specific tools associated with it. The message is created using the client.beta.threads.messages.create() method, specifying the thread id, role, content, and attachments parameters.
\end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{00203\ \textcolor{keyword}{def\ }create\_message(thread,\ content,\ file):}
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00205\ \textcolor{stringliteral}{\ \ \ \ :param\ thread:\ A\ Thread\ object\ representing\ the\ thread\ where\ the\ message\ will\ be\ created.}}
\DoxyCodeLine{00206\ \textcolor{stringliteral}{\ \ \ \ :param\ content:\ A\ string\ representing\ the\ content\ of\ the\ message.}}
\DoxyCodeLine{00207\ \textcolor{stringliteral}{\ \ \ \ :param\ file:\ An\ optional\ File\ object\ representing\ a\ file\ attachment\ for\ the\ message.}}
\DoxyCodeLine{00208\ \textcolor{stringliteral}{\ \ \ \ :return:\ None}}
\DoxyCodeLine{00209\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00210\ \textcolor{stringliteral}{\ \ \ \ This\ method\ creates\ a\ message\ in\ a\ given\ thread\ using\ the\ provided\ content\ and\ file\ attachment,\ if\ any.\ If\ a\ file\ attachment\ is\ provided,\ it\ is\ added\ to\ the\ message\ as\ an\ attachment\ with\ specific\ tools\ associated\ with\ it.\ The\ message\ is\ created\ using\ the\ client.beta.threads.messages.create()\ method,\ specifying\ the\ thread\ id,\ role,\ content,\ and\ attachments\ parameters.}}
\DoxyCodeLine{00211\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00212\ \ \ \ \ attachments\ =\ []}
\DoxyCodeLine{00213\ \ \ \ \ \textcolor{keywordflow}{if}\ file\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ attachments.append(}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \{\textcolor{stringliteral}{"{}file\_id"{}}:\ file.id,\ \textcolor{stringliteral}{"{}tools"{}}:\ [\{\textcolor{stringliteral}{"{}type"{}}:\ \textcolor{stringliteral}{"{}code\_interpreter"{}}\},\ \{\textcolor{stringliteral}{"{}type"{}}:\ \textcolor{stringliteral}{"{}file\_search"{}}\}]\}}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ )}
\DoxyCodeLine{00217\ \ \ \ \ client.beta.threads.messages.create(}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ thread\_id=thread.id,\ role=\textcolor{stringliteral}{"{}user"{}},\ content=content,\ attachments=attachments}
\DoxyCodeLine{00219\ \ \ \ \ )}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \textcolor{preprocessor}{@log\_function\_call}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00222}{run\+\_\+stream()}}.

Here is the caller graph for this function\+:
% FIG 0
\Hypertarget{namespace_assistants_a14644dbd23e89d13ea20e9c038abd252}\index{Assistants@{Assistants}!create\_thread@{create\_thread}}
\index{create\_thread@{create\_thread}!Assistants@{Assistants}}
\doxysubsubsection{\texorpdfstring{create\_thread()}{create\_thread()}}
{\footnotesize\ttfamily \label{namespace_assistants_a14644dbd23e89d13ea20e9c038abd252} 
create\+\_\+thread (\begin{DoxyParamCaption}\item[{}]{content}{, }\item[{}]{file}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}:param content: The content of the thread.
:param file: The file associated with the thread.
:return: The created thread.\end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{00192\ \textcolor{keyword}{def\ }create\_thread(content,\ file):}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00194\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00195\ \textcolor{stringliteral}{\ \ \ \ :param\ content:\ The\ content\ of\ the\ thread.}}
\DoxyCodeLine{00196\ \textcolor{stringliteral}{\ \ \ \ :param\ file:\ The\ file\ associated\ with\ the\ thread.}}
\DoxyCodeLine{00197\ \textcolor{stringliteral}{\ \ \ \ :return:\ The\ created\ thread.}}
\DoxyCodeLine{00198\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00199\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00200\ \ \ \ \ \textcolor{keywordflow}{return}\ client.beta.threads.create()}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ \textcolor{preprocessor}{@log\_function\_call}}

\end{DoxyCode}


Referenced by \mbox{\hyperlink{l00222}{run\+\_\+stream()}}.

Here is the caller graph for this function\+:
% FIG 1
\Hypertarget{namespace_assistants_a51af30a60f9f02777c6396b8247e356f}\index{Assistants@{Assistants}!main@{main}}
\index{main@{main}!Assistants@{Assistants}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily \label{namespace_assistants_a51af30a60f9f02777c6396b8247e356f} 
main (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Entry point for the program.

:return: None
\end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{00248\ \textcolor{keyword}{def\ }\mbox{\hyperlink{debug_8cpp_ae66f6b31b5ad750f1fe042a706a4e3d4}{main}}():}
\DoxyCodeLine{00249\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00250\ \textcolor{stringliteral}{\ \ \ \ Entry\ point\ for\ the\ program.}}
\DoxyCodeLine{00251\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00252\ \textcolor{stringliteral}{\ \ \ \ :return:\ None}}
\DoxyCodeLine{00253\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00254\ \ \ \ \ \textcolor{comment}{\#\ Simulate\ user\ input\ and\ assistant\ interaction}}
\DoxyCodeLine{00255\ \ \ \ \ user\_input\ =\ input(\textcolor{stringliteral}{"{}You:\ "{}})}
\DoxyCodeLine{00256\ \ \ \ \ assistant\_id\ =\ os.environ.get(\textcolor{stringliteral}{"{}ASSISTANT\_ID"{}},\ \textcolor{stringliteral}{"{}default\_assistant"{}})}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \ \ \ \ \textcolor{comment}{\#\ Simulate\ a\ file\ upload\ (disabled\ in\ this\ example)}}
\DoxyCodeLine{00259\ \ \ \ \ uploaded\_file\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00260\ }
\DoxyCodeLine{00261\ \ \ \ \ \textcolor{comment}{\#\ Run\ the\ stream}}
\DoxyCodeLine{00262\ \ \ \ \ \textcolor{keywordflow}{while}\ user\_input\ !=\ \textcolor{stringliteral}{"{}q"{}}:}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ run\_stream(user\_input,\ uploaded\_file,\ assistant\_id)}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ user\_input\ =\ input(\textcolor{stringliteral}{"{}You:\ "{}})}
\DoxyCodeLine{00265\ }

\end{DoxyCode}


References \mbox{\hyperlink{l00248}{main()}}, and \mbox{\hyperlink{l00222}{run\+\_\+stream()}}.



Referenced by \mbox{\hyperlink{l00248}{main()}}.

Here is the call graph for this function\+:
% FIG 2
Here is the caller graph for this function\+:
% FIG 3
\Hypertarget{namespace_assistants_aeea45b7404805872ac9432e45c244420}\index{Assistants@{Assistants}!run\_stream@{run\_stream}}
\index{run\_stream@{run\_stream}!Assistants@{Assistants}}
\doxysubsubsection{\texorpdfstring{run\_stream()}{run\_stream()}}
{\footnotesize\ttfamily \label{namespace_assistants_aeea45b7404805872ac9432e45c244420} 
run\+\_\+stream (\begin{DoxyParamCaption}\item[{}]{user\+\_\+input}{, }\item[{}]{file}{, }\item[{}]{selected\+\_\+assistant\+\_\+id}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}:param user_input: The input from the user.
:param file: The file to be processed.
:param selected_assistant_id: The ID of the selected assistant.
:return: None

This method runs a stream for a chat session using the given user input, file, and selected assistant ID. It creates a thread, sends messages to the thread, and handles events using the event handler. The chat log is printed at the end of the session.
\end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{00222\ \textcolor{keyword}{def\ }run\_stream(user\_input,\ file,\ selected\_assistant\_id):}
\DoxyCodeLine{00223\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00224\ \textcolor{stringliteral}{\ \ \ \ :param\ user\_input:\ The\ input\ from\ the\ user.}}
\DoxyCodeLine{00225\ \textcolor{stringliteral}{\ \ \ \ :param\ file:\ The\ file\ to\ be\ processed.}}
\DoxyCodeLine{00226\ \textcolor{stringliteral}{\ \ \ \ :param\ selected\_assistant\_id:\ The\ ID\ of\ the\ selected\ assistant.}}
\DoxyCodeLine{00227\ \textcolor{stringliteral}{\ \ \ \ :return:\ None}}
\DoxyCodeLine{00228\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00229\ \textcolor{stringliteral}{\ \ \ \ This\ method\ runs\ a\ stream\ for\ a\ chat\ session\ using\ the\ given\ user\ input,\ file,\ and\ selected\ assistant\ ID.\ It\ creates\ a\ thread,\ sends\ messages\ to\ the\ thread,\ and\ handles\ events\ using\ the\ event\ handler.\ The\ chat\ log\ is\ printed\ at\ the\ end\ of\ the\ session.}}
\DoxyCodeLine{00230\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00231\ \ \ \ \ thread\ =\ create\_thread(user\_input,\ file)}
\DoxyCodeLine{00232\ \ \ \ \ create\_message(thread,\ user\_input,\ file)}
\DoxyCodeLine{00233\ \ \ \ \ event\_handler\ =\ EventHandler()\ \ \textcolor{comment}{\#\ Create\ an\ instance\ of\ the\ event\ handler\ with\ session\ state}}
\DoxyCodeLine{00234\ \ \ \ \ \textcolor{keyword}{with}\ client.beta.threads.runs.stream(}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ thread\_id=thread.id,}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ assistant\_id=selected\_assistant\_id,}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ event\_handler=event\_handler,}
\DoxyCodeLine{00238\ \ \ \ \ )\ \textcolor{keyword}{as}\ stream:}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ stream.until\_done()}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \ \ \ \ \textcolor{comment}{\#\ Access\ the\ session\ state\ from\ the\ event\ handler\ if\ needed}}
\DoxyCodeLine{00242\ \ \ \ \ session\_state\ =\ event\_handler.session\_state}
\DoxyCodeLine{00243\ \ \ \ \ print(\textcolor{stringliteral}{"{}\(\backslash\)nFinal\ Chat\ Log:"{}})}
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{keywordflow}{for}\ log\ \textcolor{keywordflow}{in}\ session\_state[\textcolor{stringliteral}{"{}chat\_log"{}}]:}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ print(f\textcolor{stringliteral}{"{}\{log['name']\}:\ \{log['msg']\}"{}})}
\DoxyCodeLine{00246\ }
\DoxyCodeLine{00247\ }

\end{DoxyCode}


References \mbox{\hyperlink{l00203}{create\+\_\+message()}}, and \mbox{\hyperlink{l00192}{create\+\_\+thread()}}.



Referenced by \mbox{\hyperlink{l00248}{main()}}.

Here is the call graph for this function\+:
% FIG 4
Here is the caller graph for this function\+:
% FIG 5
\Hypertarget{namespace_assistants_af3929b2269205c0657fae2ec2c4693f8}\index{Assistants@{Assistants}!str\_to\_bool@{str\_to\_bool}}
\index{str\_to\_bool@{str\_to\_bool}!Assistants@{Assistants}}
\doxysubsubsection{\texorpdfstring{str\_to\_bool()}{str\_to\_bool()}}
{\footnotesize\ttfamily \label{namespace_assistants_af3929b2269205c0657fae2ec2c4693f8} 
str\+\_\+to\+\_\+bool (\begin{DoxyParamCaption}\item[{}]{str\+\_\+input}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Convert a string to a boolean value.

:param str_input: The string to convert.
:return: The boolean value converted from the string.
\end{DoxyVerb}
 
\begin{DoxyCode}{0}
\DoxyCodeLine{00012\ \textcolor{keyword}{def\ }str\_to\_bool(str\_input):}
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00014\ \textcolor{stringliteral}{\ \ \ \ Convert\ a\ string\ to\ a\ boolean\ value.}}
\DoxyCodeLine{00015\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00016\ \textcolor{stringliteral}{\ \ \ \ :param\ str\_input:\ The\ string\ to\ convert.}}
\DoxyCodeLine{00017\ \textcolor{stringliteral}{\ \ \ \ :return:\ The\ boolean\ value\ converted\ from\ the\ string.}}
\DoxyCodeLine{00018\ \textcolor{stringliteral}{\ \ \ \ "{}"{}"{}}}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ isinstance(str\_input,\ str):}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keywordflow}{return}\ str\_input.lower()\ ==\ \textcolor{stringliteral}{"{}true"{}}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{comment}{\#\ Load\ environment\ variables}}

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\Hypertarget{namespace_assistants_a184c58bfc20ecce9fbc12d3941ed6e74}\index{Assistants@{Assistants}!azure\_openai\_endpoint@{azure\_openai\_endpoint}}
\index{azure\_openai\_endpoint@{azure\_openai\_endpoint}!Assistants@{Assistants}}
\doxysubsubsection{\texorpdfstring{azure\_openai\_endpoint}{azure\_openai\_endpoint}}
{\footnotesize\ttfamily \label{namespace_assistants_a184c58bfc20ecce9fbc12d3941ed6e74} 
azure\+\_\+openai\+\_\+endpoint = os.\+environ.\+get("{}AZURE\+\_\+\+OPENAI\+\_\+\+ENDPOINT"{})}

\Hypertarget{namespace_assistants_aec90323357f487c5adbee6ab77e17ef7}\index{Assistants@{Assistants}!azure\_openai\_key@{azure\_openai\_key}}
\index{azure\_openai\_key@{azure\_openai\_key}!Assistants@{Assistants}}
\doxysubsubsection{\texorpdfstring{azure\_openai\_key}{azure\_openai\_key}}
{\footnotesize\ttfamily \label{namespace_assistants_aec90323357f487c5adbee6ab77e17ef7} 
azure\+\_\+openai\+\_\+key = os.\+environ.\+get("{}AZURE\+\_\+\+OPENAI\+\_\+\+KEY"{})}

\Hypertarget{namespace_assistants_ad5bc32b75da65fe60067f501a4bb6665}\index{Assistants@{Assistants}!client@{client}}
\index{client@{client}!Assistants@{Assistants}}
\doxysubsubsection{\texorpdfstring{client}{client}}
{\footnotesize\ttfamily \label{namespace_assistants_ad5bc32b75da65fe60067f501a4bb6665} 
client = None}

\Hypertarget{namespace_assistants_a0b14e488ae28d98d262453f3e9cd6e4d}\index{Assistants@{Assistants}!logger@{logger}}
\index{logger@{logger}!Assistants@{Assistants}}
\doxysubsubsection{\texorpdfstring{logger}{logger}}
{\footnotesize\ttfamily \label{namespace_assistants_a0b14e488ae28d98d262453f3e9cd6e4d} 
logger = get\+\_\+logger(\+\_\+\+\_\+name\+\_\+\+\_\+)}

\Hypertarget{namespace_assistants_a3323bc93b955e24fd2c8b48980fe3812}\index{Assistants@{Assistants}!openai\_api\_key@{openai\_api\_key}}
\index{openai\_api\_key@{openai\_api\_key}!Assistants@{Assistants}}
\doxysubsubsection{\texorpdfstring{openai\_api\_key}{openai\_api\_key}}
{\footnotesize\ttfamily \label{namespace_assistants_a3323bc93b955e24fd2c8b48980fe3812} 
openai\+\_\+api\+\_\+key = os.\+environ.\+get("{}OPENAI\+\_\+\+API\+\_\+\+KEY"{})}

